tinyMCE.importPluginLanguagePack('insertcode', 'en,fr,he,nb,ru,ru_KOI8-R,ru_UTF-8,nn,fi,cy,es,is,pl');function TinyMCE_insertcode_getInfo(){return {longname : 'insertcode plugin',author : 'Maxime Lardenois',authorurl : 'http://www.jpnp.org',infourl : 'http://www.jpnp.org',version : "1.0"};};function TinyMCE_insertcode_getControlHTML(control_name){switch (control_name){case "insertcode":var cmd = 'tinyMCE.execInstanceCommand(\'{$editor_id}\',\'mceinsertcode\', true);return false;';return '<a href="javascript:' + cmd + '" onclick="' + cmd + '" target="_self" onmousedown="return false;"><img id="{$editor_id}_insertcode" src="{$pluginurl}/images/insertcode.gif" title="{$lang_insertcode_desc}" width="20" height="20" class="mceButtonNormal" onmouseover="tinyMCE.switchClass(this,\'mceButtonOver\');" onmouseout="tinyMCE.restoreClass(this);" onmousedown="tinyMCE.restoreAndSwitchClass(this,\'mceButtonDown\');" /></a>';}return "";}function TinyMCE_insertcode_execCommand(editor_id, element, command, user_interface, value){switch (command){case "mceinsertcode":if (user_interface){var insertcode = new Array();insertcode['file'] = '../../plugins/insertcode/insertcode.htm';insertcode['width'] = 550;insertcode['height'] = 500;tinyMCE.openWindow(insertcode, {editor_id : editor_id, resizable : "yes", scrollbars : "no"});tinyMCE.triggerNodeChange(false);}else{alert("execCommand: mceinsertcode gets called from popup.");}return true;}return false;}function TinyMCE_insertcode_handleNodeChange(editor_id, node, undo_index, undo_levels, visual_aid, any_selection){tinyMCE.switchClassSticky(editor_id + '_insertcode', 'mceButtonNormal');if (tinyMCE.getParentElement(node, "pre", "class"))tinyMCE.switchClassSticky(editor_id + '_insertcode', 'mceButtonSelected');return true;}